<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Better-Github</title>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Righteous&family=Silkscreen&family=Space+Grotesk:wght@300&family=ZCOOL+KuaiLe&display=swap");
        
        :root {
            --bg-primary: #121212;
            --bg-secondary: #292929;
            --text-primary: #e0e0e0;
            --accent-color: #58a6ff;
            --link-color: #00b7ff;
            --card-bg: #1f1f1f;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            font-family: "Space Grotesk", sans-serif;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes logoSpin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .logo-container {
            text-align: center;
            padding: 2rem 0;
            animation: fadeIn 0.8s ease-out;
        }

        .logo {
            width: 100px;
            height: 100px;
            margin: 0 auto;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .logo:hover {
            animation: logoSpin 1s linear;
        }

        #AcountTypeBar {
            width: 100%;
            font-family: "ZCOOL KuaiLe", serif;
            text-align: center;
            padding: 1rem 0;
            background-color: var(--bg-secondary);
            animation: fadeIn 0.8s ease-out;
        }

        #top {
            display: flex;
            margin: 20px;
            padding: 20px;
            background-color: var(--bg-secondary);
            border-radius: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: fadeIn 1s ease-out;
            flex-direction: column;
            align-items: center;
        }

        @media (min-width: 768px) {
            #top {
                flex-direction: row;
                margin: 40px;
                padding: 40px;
                border-radius: 40px;
                align-items: flex-start;
            }
        }

        #DP {
            height: 150px;
            width: 150px;
            border-radius: 50%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        #DP:hover {
            transform: scale(1.05);
        }

        #infoOfNameEtcInTheTop {
            padding: 20px;
            margin: 10px;
            flex-grow: 1;
            text-align: center;
        }

        @media (min-width: 768px) {
            #infoOfNameEtcInTheTop {
                padding: 10px 40px;
                margin: 20px;
                text-align: left;
            }
        }

        #DisplayName {
            font-size: 2.5rem;
            margin: 0;
            color: var(--accent-color);
            transition: color 0.3s ease;
        }

        @media (min-width: 768px) {
            #DisplayName {
                font-size: 3rem;
            }
        }

        #DisplayName:hover {
            color: var(--link-color);
        }

        #HandelOfGithub {
            font-size: 1.5rem;
            margin: 0.5rem 0;
            font-family: "Silkscreen", serif;
            color: #808080;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .stat-item {
            background-color: var(--card-bg);
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s ease, background-color 0.3s ease;
        }

        .stat-item:hover {
            transform: translateY(-5px);
            background-color: var(--bg-secondary);
        }

        .stat-icon {
            font-size: 1.5rem;
            color: var(--link-color);
            margin-bottom: 0.5rem;
        }

        .stat-number {
            font-size: 1.5rem;
            color: var(--accent-color);
        }

        .contact-info {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 1rem 0;
            justify-content: center;
        }

        @media (min-width: 768px) {
            .contact-info {
                justify-content: flex-start;
            }
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #808080;
            transition: color 0.3s ease;
        }

        .contact-item:hover {
            color: var(--link-color);
        }

        .contact-item a {
            color: var(--link-color);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .contact-item a:hover {
            color: var(--accent-color);
            text-decoration: underline;
        }

        .repositories {
            margin: 20px;
            padding: 20px;
            background-color: var(--bg-secondary);
            border-radius: 20px;
            animation: fadeIn 1.2s ease-out;
        }

        @media (min-width: 768px) {
            .repositories {
                margin: 40px;
            }
        }

        .repo-card {
            background-color: var(--card-bg);
            padding: 20px;
            margin: 10px 0;
            border-radius: 10px;
            transition: transform 0.3s ease, background-color 0.3s ease;
        }

        .repo-card:hover {
            transform: translateY(-2px);
            background-color: var(--bg-secondary);
        }

        .repo-lang {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.875rem;
            background-color: var(--accent-color);
            color: var(--bg-primary);
            margin-right: 1rem;
        }

        .stars {
            color: var(--link-color);
        }
    </style>
</head>
<body>

    <div id="AcountTypeBar">
        <h1 id="AcountType"></h1>
    </div>
    
    <div id="top">
        <img id="DP" alt="Github DP" />
        <div id="infoOfNameEtcInTheTop">
            <div>
                <h1 id="DisplayName"></h1>
                <h2 id="HandelOfGithub"></h2>
            </div>
            
            <div class="contact-info">
                <div class="contact-item" id="location">
                    <i class="fas fa-map-marker-alt"></i>
                    <span></span>
                </div>
                <div class="contact-item" id="company">
                    <i class="fas fa-building"></i>
                    <span></span>
                </div>
                <div class="contact-item" id="website">
                    <i class="fas fa-globe"></i>
                    <a target="_blank"></a>
                </div>
                <div class="contact-item" id="email">
                    <i class="fas fa-envelope"></i>
                    <a></a>
                </div>
            </div>

            <p id="bio" class="NiceSmallTextSubtextFont"></p>
            
            <div class="stats-container">
                <div class="stat-item">
                    <i class="fas fa-users stat-icon"></i>
                    <div class="stat-number" id="followers">0</div>
                    <div>Followers</div>
                </div>
                <div class="stat-item">
                    <i class="fas fa-user-plus stat-icon"></i>
                    <div class="stat-number" id="following">0</div>
                    <div>Following</div>
                </div>
                <div class="stat-item">
                    <i class="fas fa-code-branch stat-icon"></i>
                    <div class="stat-number" id="repos">0</div>
                    <div>Repositories</div>
                </div>
            </div>
        </div>
    </div>

    <div class="repositories">
        <h2>Repositories</h2>
        <div id="repos-list"></div>
    </div>

    <script>
            const username = new URLSearchParams(window.location.search).get("username") || "A-TechyBoy";

async function updateUI(data) {
	// Update profile information
	document.getElementById("AcountType").textContent = data.type;
	document.getElementById("DP").src = data.avatar_url;
	document.getElementById("DisplayName").textContent = data.name || data.login;
	document.getElementById("HandelOfGithub").textContent = `@${data.login}`;
	document.getElementById("bio").textContent = data.bio || "No bio available";
	document.getElementById("followers").textContent = data.followers;
	document.getElementById("following").textContent = data.following;
	document.getElementById("repos").textContent = data.public_repos;

	// Update contact information
	if (data.location) {
		document.querySelector("#location span").textContent = data.location;
	} else {
		document.querySelector("#location").style.display = "none";
	}
	
	if (data.company) {
		document.querySelector("#company span").textContent = data.company;
	} else {
		document.querySelector("#company").style.display = "none";
	}
	
	if (data.blog) {
		const link = document.querySelector("#website a");
		link.href = data.blog.startsWith("http") ? data.blog : `https://${data.blog}`;
		link.textContent = data.blog;
	} else {
		document.querySelector("#website").style.display = "none";
	}
	
	if (data.email) {
		const emailLink = document.querySelector("#email a");
		emailLink.href = `mailto:${data.email}`;
		emailLink.textContent = data.email;
	} else {
		document.querySelector("#email").style.display = "none";
	}
}

async function updateRepos(repos) {
	const reposList = document.getElementById("repos-list");
	reposList.innerHTML = ''; // Clear existing repos

	repos.forEach(repo => {
		const repoCard = document.createElement("div");
		repoCard.className = "repo-card";
		repoCard.innerHTML = `
			<h3>${repo.name}</h3>
			<p>${repo.description || "No description available"}</p>
			${repo.language ? `<span class="repo-lang">${repo.language}</span>` : ''}
			<span class="stars"><i class="fas fa-star"></i> ${repo.stargazers_count}</span>
		`;
		reposList.appendChild(repoCard);
	});
}

async function fetchGitHubProfile() {
	try {
		// Show loading state
		document.body.style.opacity = "0.7";
		
		// Fetch user data
		const response = await fetch(`https://api.github.com/users/${username}`);
		if (!response.ok) {
			throw new Error(`HTTP error! status: ${response.status}`);
		}
		const userData = await response.json();
		
		// Update UI with user data
		await updateUI(userData);

		// Fetch repositories
		const reposResponse = await fetch(`https://api.github.com/users/${username}/repos`);
		if (!reposResponse.ok) {
			throw new Error(`HTTP error! status: ${reposResponse.status}`);
		}
		const repos = await reposResponse.json();
		
		// Update repositories section
		await updateRepos(repos);

	} catch (error) {
		console.error("Error:", error);
		document.body.innerHTML = `
			<div style="text-align: center; padding: 50px;">
				<h1>Error loading profile</h1>
				<p>Please check the username and try again.</p>
				<p>Error details: ${error.message}</p>
			</div>
		`;
	} finally {
		// Reset loading state
		document.body.style.opacity = "1";
	}
}

// Start fetching data when page loads
document.addEventListener('DOMContentLoaded', fetchGitHubProfile);
    </script>
</body>
</html>